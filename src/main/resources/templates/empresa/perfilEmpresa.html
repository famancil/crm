<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="layouts/main"
      th:with="actualTemplate='empresas'">
<head>
    <title>Detalle de la Empresa</title>
    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $('#resumenGestion').attr('checked', true);
            $('#contactosActivos').attr('checked', false);
            $('#contactosInactivos').attr('checked', false);
            $('#historiaConEmpresa').attr('checked', false);
            $('#exalumnosYSocios').attr('checked', false);
            $('#ofertasLaboralesResumen').attr('checked', false);
            $('#ofertasLaboralesDetalle').attr('checked', false);
            $('#sucursalesVigentes').attr('checked', false);
            $('#compromisoEmpresa').attr('checked', false);
            $('#aporteEmpresa').attr('checked', false);
            $('#contcActivos').hide();
            $('#contcInactivos').hide();
            $('#histConEmpresa').hide();
            $('#exalYSocios').hide();
            $('#ofeLaboralesResumen').hide();
            $('#ofeLaboralesDetalle').hide();
            $('#sucVigentes').hide();
            $('#compEmpresa').hide();
            $('#apoEmpresa').hide();
            $('#resumenGestion').change(function () {
                $('#resGestion').fadeToggle('fast');
            });
            $('#contactosActivos').change(function () {
                $('#contcActivos').fadeToggle('fast');
            });
            $('#contactosInactivos').change(function () {
                $('#contcInactivos').fadeToggle('fast');
            });
            $('#historiaConEmpresa').change(function () {
                $('#histConEmpresa').fadeToggle('fast');
            });
            $('#exalumnosYSocios').change(function () {
                $('#exalYSocios').fadeToggle('fast');
            });
            $('#ofertasLaboralesResumen').change(function () {
                $('#ofeLaboralesResumen').fadeToggle('fast');
            });
            $('#ofertasLaboralesDetalle').change(function () {
                $('#ofeLaboralesDetalle').fadeToggle('fast');
            });
            $('#sucursalesVigentes').change(function () {
                $('#sucVigentes').fadeToggle('fast');
            });
            $('#compromisoEmpresa').change(function () {
                $('#compEmpresa').fadeToggle('fast');
            });
            $('#aporteEmpresa').change(function () {
                $('#apoEmpresa').fadeToggle('fast');
            });
        });
    </script>
</head>
<body>

<div layout:fragment="title">
    <h2>Detalle de la Empresa</h2>
    <ol class="breadcrumb">
        <li><a th:href="@{/}">Inicio</a></li>
        <li>Empresas</li>
        <li class="active">
            <a th:href="@{/empresa/{id}(id=${empresa.id})}">
            <span th:switch="${empresa.razonSocial}">
                <strong th:case="null">Sin Información</strong>
                <strong th:case="*" th:text="${empresa.razonSocial}"></strong>
            </span></a>
        </li>
    </ol>
</div>


<div layout:fragment="content">

    <div class="col-lg-12">
        <div class="ibox float-e-margins">
            <div class="ibox-content">
                <div class="row">
                    <div class="col-lg-12">

                        <div class="row">

                            <div class="m-b-md">
                                <a th:href="@{/empresa/{id}/modificar(id=${empresa.id})}"
                                   class="btn btn-white btn-xs pull-right">
                                    <i class="fa fa-pencil-square-o"></i>
                                     Editar informaci&oacute;n de empresa
                                </a>
                                <h2 th:switch="${empresa.razonSocial}">
                                    <span th:case="null">Sin Información</span>
                                    <span th:case="*" th:text="${empresa.razonSocial}"></span>
                                </h2>
                            </div>

                            <div class="col-lg-2">
                                <p class="text-center">
                                    <a th:if="${empresa.logo==true}">
                                        <img th:src="'http://empleos.sansanos.cl/data/empresas/logos/'+*{empresa.id}+'_100.jpg'" height="100" width="100"/>
                                    </a>
                                    <a th:if="${empresa.logo==false}">
                                        <img th:src="'http://empleos.sansanos.cl/resources/images/NoImagen.jpg'" height="100" width="100"/>
                                    </a>
                                </p>
                            </div>

                            <div class="col-lg-5">

                                <dl class="dl-horizontal">

                                    <dt>Empresa:</dt>
                                    <dd th:switch="${empresa.nombreFantasiaEmpresa}">
                                        <span th:case="null">Sin Información</span>
                                        <span th:case="' '">Sin Información</span>
                                        <span th:case="empty">Sin Información</span>
                                        <span th:case="*" th:text="${empresa.nombreFantasiaEmpresa}"></span>
                                    </dd>
                                    <dt>Razon Social:</dt>
                                    <dd th:switch="${empresa.razonSocial}">
                                        <span th:case="null">Sin Información</span>
                                        <span th:case="' '">Sin Información</span>
                                        <span th:case="empty">Sin Información</span>
                                        <span th:case="*" th:text="${empresa.razonSocial}"></span>
                                    </dd>
                                    <dt th:if="${empresa.rutEmpresa!=null}">Rut:</dt>
                                    <dd th:if="${empresa.rutEmpresa!=null}" th:switch="${empresa.rutEmpresa}">
                                        <span th:case="' '">Sin Información</span>
                                        <span th:case="empty">Sin Información</span>
                                        <span th:case="*" th:text="${empresa.rutEmpresa}"></span>
                                    </dd>
                                    <dt th:if="${empresa.idEmpresaExtranjera!=null}">ID:</dt>
                                    <dd th:if="${empresa.idEmpresaExtranjera!=null}" th:switch="${empresa.idEmpresaExtranjera}">
                                        <span th:case="' '">Sin Información</span>
                                        <span th:case="empty">Sin Información</span>
                                        <span th:case="*" th:text="${empresa.idEmpresaExtranjera}"></span>
                                    </dd>
                                    <dt>Giro:</dt>
                                    <dd th:switch="${empresa.giroEmpresa}">
                                        <span th:case="null">Sin Información</span>
                                        <span th:case="' '">Sin Información</span>
                                        <span th:case="empty">Sin Información</span>
                                        <span th:case="*" th:text="${empresa.giroEmpresa}"></span>
                                    </dd>
                                    <dt>Sector:</dt>
                                    <dd th:switch="${empresa.sector.nombre}">
                                        <span th:case="null">Sin Información</span>
                                        <span th:case="' '">Sin Información</span>
                                        <span th:case="empty">Sin Información</span>
                                        <span th:case="*" th:text="${empresa.sector.nombre}"></span>
                                    </dd>
                                </dl>
                            </div>

                            <div class="col-lg-5">
                                <dl class="dl-horizontal">
                                    <dt>Headhunter</dt>
                                    <dd th:switch="${empresa.headHunter}">
                                        <span th:case="null">Sin Información</span>
                                        <span th:case="' '">Sin Información</span>
                                        <span th:case="empty">Sin Información</span>
                                        <span th:case="true">SI</span>
                                        <span th:case="false">NO</span>
                                    </dd>
                                    <dt>Nacionalidad:</dt>
                                    <dd th:switch="${empresa.pais.nombreNacionalidad}">
                                        <span th:case="null">Sin Información</span>
                                        <span th:case="' '">Sin Información</span>
                                        <span th:case="empty">Sin Información</span>
                                        <span th:case="*" th:text="${empresa.pais.nombreNacionalidad}"></span>
                                    </dd>
                                    <dt th:if="${empresa.nivelFacturacion != null}">Nivel de Facturaci&oacute;n:</dt>
                                    <dd th:if="${empresa.nivelFacturacion != null}" th:switch="${empresa.sector.nombre}">
                                        <span th:case="null">Sin Información</span>
                                        <span th:case="' '">Sin Información</span>
                                        <span th:case="empty">Sin Información</span>
                                        <span th:case="*" th:text="${empresa.nivelFacturacion.nomNivelFacturacion}"></span>
                                    </dd>
                                    <dt># Trabajadores</dt>
                                    <dd th:switch="${empresa.numEmpleados}">
                                        <span th:case="null">Sin Información</span>
                                        <span th:case="' '">Sin Información</span>
                                        <span th:case="empty">Sin Información</span>
                                        <span th:case="*" th:text="${empresa.numEmpleados}"></span>
                                    </dd>
                                    <dt># Ofertas Publicadas</dt>
                                    <dd th:switch="${nOfertas}">
                                        <span th:case="empty">Sin Información</span>
                                        <span th:case="' '">Sin Información</span>
                                        <span th:case="*" th:text="${nOfertas}"></span>
                                    </dd>
                                </dl>
                            </div>
                        </div>

                        <div class="hr-line-dashed"></div>

                        <div class="row">
                            <div class="col-lg-12">
                                <div class="form-group">
                                    <label class="control-label">Mostrar Detalles</label>
                                    <div class="row">
                                        <div class="col-sm-4">
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox" id="resumenGestion" class="checkboxes" checked="checked"/>Resumen de Gestión
                                                </label>
                                            </div>
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox" id="exalumnosYSocios" class="checkboxes"/>Exalumnos y socios
                                                </label>
                                            </div>
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox" id="sucursalesVigentes" class="checkboxes"/>Mostrar Sucursales
                                                </label>
                                            </div>
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox" id="aporteEmpresa" class="checkboxes"/>Aportes de la Empresa
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox" id="contactosActivos" class="checkboxes"/>Contactos ACTIVOS
                                                </label>
                                            </div>
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox" id="contactosInactivos" class="checkboxes" />Contactos INACTIVOS
                                                </label>
                                            </div>
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox" id="historiaConEmpresa" class="checkboxes"/>Mostrar historia de Contactos
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox" id="ofertasLaboralesResumen" class="checkboxes"/>Ofertas laborales - RESUMEN
                                                </label>
                                            </div>
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox" id="ofertasLaboralesDetalle" class="checkboxes"/>Ofertas laborales - DETALLE
                                                </label>
                                            </div>
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox" id="compromisoEmpresa" class="checkboxes"/>Compromisos de la Empresa
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="hr-line-dashed"></div>

                        <div class="row">
                            <div id="resGestion">
                                <div class="col-lg-12">
                                    <label class="control-label" style="float: left;">RESUMEN DE GESTION:</label><label class="control-label" style="float: right;">DESDE 01/01/2008 - HASTA <span th:text="${#calendars.format(fechaHoy, 'dd/MM/yyyy')}"></span></label>
                                    <table class="table table-bordered">
                                        <thead>
                                        <tr>
                                            <td>N° CORREOS</td>
                                            <td>REUNIONES</td>
                                            <td>N° LLAMADAS</td>
                                            <td>N° OFERTAS</td>
                                            <td>VACANTES</td>
                                            <td>POSTULANTES</td>
                                            <td>PRIMERA OFERTA</td>
                                            <td>ULTIMA OFERTA</td>
                                        </tr>
                                        </thead>
                                        <tr>
                                            <td th:switch="${nCorreos}">
                                                <span th:case="null">0</span>
                                                <span th:case="*" th:text="${nCorreos}"></span>
                                            </td>
                                            <td th:switch="${nReuniones}">
                                                <span th:case="null">0</span>
                                                <span th:case="*" th:text="${nReuniones}"></span>
                                            </td>
                                            <td th:switch="${nLlamadas}">
                                                <span th:case="null">0</span>
                                                <span th:case="*" th:text="${nLlamadas}"></span>
                                            </td>
                                            <td th:switch="${nOfertas}">
                                                <span th:case="null">0</span>
                                                <span th:case="*" th:text="${nOfertas}"></span>
                                            </td>
                                            <td th:switch="${nVacantes}">
                                                <span th:case="null">0</span>
                                                <span th:case="*" th:text="${nVacantes}"></span>
                                            </td>
                                            <td th:switch="${nPostulantes}">
                                                <span th:case="null">0</span>
                                                <span th:case="*" th:text="${nPostulantes}"></span>
                                            </td>
                                            <td th:switch="${primeraOferta}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:case="*" th:text="${#calendars.format(primeraOferta, 'dd/MM/yyyy')}"></span>
                                            </td>
                                            <td th:switch="${ultimaOferta}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:case="*" th:text="${#calendars.format(ultimaOferta, 'dd/MM/yyyy')}"></span>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div id="contcActivos">
                                <div class="hr-line-dashed"></div>
                                <div class="col-lg-12">
                                    <label class="control-label">CONTACTOS ACTIVOS (VIGENTES):</label>
                                    <table class="table table-bordered">
                                        <thead>
                                        <tr>
                                            <td>NOMBRE</td>
                                            <td>CARGO</td>
                                            <td>MAIL</td>
                                            <td>FONO</td>
                                            <td>CELULAR</td>
                                            <td>ULTIMA VERIFICACION</td>
                                            <td>ACCIONES</td>
                                        </tr>
                                        </thead>
                                        <tr th:if="${contactosActivos.size()!=0}" th:each="cont : ${contactosActivos}">
                                            <td th:switch="${cont.usuarioEmpresaUsmempleo.nombreCompleto}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:case="*" th:text="${cont.usuarioEmpresaUsmempleo.nombreCompleto}"></span>
                                            </td>
                                            <td th:switch="${cont.usuarioEmpresaUsmempleo.cargo}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:case="*" th:text="${cont.usuarioEmpresaUsmempleo.cargo}"></span>
                                                <br/>SUCURSAL: <span th:if="${cont.sucursalEmpresa!=null}" th:text="${cont.sucursalEmpresa.sucSucursal}"></span>
                                                <span th:if="${cont.sucursalEmpresa==null}">Sin Información</span>
                                            </td>
                                            <td th:switch="${cont.usuarioEmpresaUsmempleo.email}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:case="*" th:text="${cont.usuarioEmpresaUsmempleo.email}"></span>
                                            </td>
                                            <td th:switch="${cont.usuarioEmpresaUsmempleo.fono}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:case="*" th:text="${cont.usuarioEmpresaUsmempleo.fono}"></span>
                                            </td>
                                            <td th:switch="${cont.usuarioEmpresaUsmempleo.celular}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:case="*" th:text="${cont.usuarioEmpresaUsmempleo.celular}"></span>
                                            </td>
                                            <td th:switch="${cont.usuarioEmpresaUsmempleo.fechaModificacion}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:case="*" th:text="${#calendars.format(cont.usuarioEmpresaUsmempleo.fechaModificacion, 'dd/MM/yyyy')}"></span>
                                            </td>
                                            <td><a href="#" class="btn btn-success btn-xs"><i class="fa fa-plus"></i> Registrar Accion</a><a href="#" class="btn btn-primary btn-xs"><i class="fa fa-pencil-square-o"></i> Editar</a></td>
                                        </tr>
                                        <tr th:if="${contactosActivos.size()==0}">
                                            <td colspan="7" style="color:red" align="center">NO HAY INFORMACION AL RESPECTO</td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div id="contcInactivos">
                                <div class="hr-line-dashed"></div>
                                <div class="col-lg-12">
                                    <label class="control-label">CONTACTOS INACTIVOS</label>
                                    <table class="table table-bordered">
                                    <thead>
                                    <tr>
                                        <td>NOMBRE</td>
                                        <td>CARGO</td>
                                        <td>MAIL</td>
                                        <td>FONO</td>
                                        <td>CELULAR</td>
                                        <td>ULTIMA VERIFICACION</td>
                                        <td>VIGENCIA</td>
                                        <td>ACCIONES</td>
                                    </tr>
                                    </thead>
                                    <tr th:if="${contactosInactivos.size()!=0}" th:each="cont : ${contactosInactivos}">
                                        <td th:if="${cont.vigencia.codVigencia == 2}" th:switch="${cont.usuarioEmpresaUsmempleo.nombreCompleto}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${cont.usuarioEmpresaUsmempleo.nombreCompleto}"></span>
                                        </td>
                                        <td th:if="${cont.vigencia.codVigencia == 3}" th:switch="${cont.usuarioEmpresaUsmempleo.nombreCompleto}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${cont.usuarioEmpresaUsmempleo.nombreCompleto}"></span>
                                        </td>
                                        <td th:if="${cont.vigencia.codVigencia == 4}" th:switch="${cont.usuarioEmpresaUsmempleo.nombreCompleto}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${cont.usuarioEmpresaUsmempleo.nombreCompleto}"></span>
                                        </td>
                                        <td th:switch="${cont.usuarioEmpresaUsmempleo.cargo}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${cont.usuarioEmpresaUsmempleo.cargo}"></span>
                                        </td>
                                        <td th:switch="${cont.usuarioEmpresaUsmempleo.email}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${cont.usuarioEmpresaUsmempleo.email}"></span>
                                        </td>
                                        <td th:switch="${cont.usuarioEmpresaUsmempleo.fono}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${cont.usuarioEmpresaUsmempleo.fono}"></span>
                                        </td>
                                        <td th:switch="${cont.usuarioEmpresaUsmempleo.celular}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${cont.usuarioEmpresaUsmempleo.celular}"></span>
                                        </td>
                                        <td th:switch="${cont.usuarioEmpresaUsmempleo.fechaModificacion}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${#calendars.format(cont.usuarioEmpresaUsmempleo.fechaModificacion, 'dd/MM/yyyy')}"></span>
                                        </td>
                                        <div class="text-center">
                                        <td th:if="${cont.vigencia.codVigencia == 2}" th:switch="${cont.vigencia.nomVigencia}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" class="badge badge-default badge-xs" color="white" th:text="${cont.vigencia.nomVigencia}"></span>
                                        </td>
                                        <td th:if="${cont.vigencia.codVigencia == 3}" th:switch="${cont.vigencia.nomVigencia}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" class="badge badge-danger badge-xs">Eliminado Logicamente</span>
                                        </td>
                                        <td th:if="${cont.vigencia.codVigencia == 4}" th:switch="${cont.vigencia.nomVigencia}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" class="badge badge-warning badge-xs" th:text="${cont.vigencia.nomVigencia}"></span>
                                        </td>
                                        </div>
                                        <td><a href="#" class="btn btn-success btn-xs"><i class="fa fa-plus"></i> Registrar Accion</a><a href="#" class="btn btn-primary btn-xs"><i class="fa fa-pencil-square-o"></i> Editar</a></td>
                                    </tr>
                                    <tr th:if="${contactosInactivos.size()==0}">
                                        <td colspan="8" style="color:red" align="center">NO HAY INFORMACION AL RESPECTO</td>
                                    </tr>
                                    </table>
                                </div>
                            </div>
                        </div>


                        <div class="row">
                            <div id="histConEmpresa">
                                <div class="hr-line-dashed"></div>
                                <div class="col-lg-12">
                                <label class="control-label">HISTORIA CON LA EMPRESA:</label>
                                <table class="table table-bordered">
                                    <thead>
                                    <tr>
                                        <td>USUARIO</td>
                                        <td>CONTACTO</td>
                                        <td>TIPO CONTACTO</td>
                                        <td>TIPO OPORTUNIDAD</td>
                                        <td>FECHA CONTACTO</td>
                                        <td>ESTADO</td>
                                        <td>ASUNTO</td>
                                        <td>DESCRIPCION</td>
                                        <td>NIVEL DE INTERES</td>
                                        <td>FECHA PROXIMO CONTACTO</td>
                                        <td>EDITAR</td>
                                    </tr>
                                    </thead>
                                    <tr th:if="${contactoHistorico.size()!=0}" th:each="contHist : ${contactoHistorico}">
                                        <td th:switch="${contHist.contactoHistoricoEmpresa.usuario.nombres}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${contHist.contactoHistoricoEmpresa.usuario.nombres+' '+contHist.contactoHistoricoEmpresa.usuario.apellidoPaterno}"></span>
                                        </td>
                                        <td th:switch="${contHist.usuarioUsmempleoEmpresa.usuarioEmpresaUsmempleo.nombreCompleto}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${contHist.usuarioUsmempleoEmpresa.usuarioEmpresaUsmempleo.nombreCompleto}"></span>
                                        </td>
                                        <td th:switch="${contHist.contactoHistoricoEmpresa.tipoContacto.nomContacto}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${contHist.contactoHistoricoEmpresa.tipoContacto.nomContacto}"></span>
                                        </td>
                                        <td th:switch="${contHist.contactoHistoricoEmpresa.tipoOportunidad.nomOportunidad}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${contHist.contactoHistoricoEmpresa.tipoOportunidad.nomOportunidad}"></span>
                                        </td>
                                        <td th:switch="${contHist.contactoHistoricoEmpresa.fechaContacto}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${#calendars.format(contHist.contactoHistoricoEmpresa.fechaContacto, 'dd/MM/yyyy')}"></span>
                                        </td>
                                        <td th:switch="${contHist.contactoHistoricoEmpresa.tipoEstado.nomEstado}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${contHist.contactoHistoricoEmpresa.tipoEstado.nomEstado}"></span>
                                        </td>
                                        <td th:switch="${contHist.contactoHistoricoEmpresa.asunto}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${contHist.contactoHistoricoEmpresa.asunto}"></span>
                                        </td>
                                        <td th:switch="${contHist.contactoHistoricoEmpresa.acuerdos}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${contHist.contactoHistoricoEmpresa.acuerdos}"></span>
                                        </td>
                                        <td th:switch="${contHist.contactoHistoricoEmpresa.tipoNivelInteres}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${contHist.contactoHistoricoEmpresa.tipoNivelInteres.nomNivelInteres}"></span>
                                        </td>
                                        <td th:switch="${contHist.contactoHistoricoEmpresa.fechaProximoContacto}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${#calendars.format(contHist.contactoHistoricoEmpresa.fechaProximoContacto, 'dd/MM/yyyy')}"></span>
                                        </td>
                                        <td><a class="fa fa-pencil-square-o" th:href="@{/empresa/{id}/contactoHistorico/{id2}/{id3}/editar(id=${empresa.id},id2=${contHist.contactoHistoricoEmpresaId},id3=${contHist.usuarioUsmempleoEmpresaId})}" type="submit">editar</a></td>
                                    </tr>
                                    <tr th:if="${contactoHistorico.size()==0}">
                                        <td colspan="8" style="color:red" align="center">NO HAY INFORMACION AL RESPECTO</td>
                                    </tr>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div id="exalYSocios">
                                <div class="hr-line-dashed"></div>
                                <div class="col-lg-12">
                                    <label class="control-label">EXALUMNOS Y SOCIOS: <label th:if="${exalumnosYSocios.size() != 0 and exalumnosYSocios.get(0).remuneracion > 20}" class="control-label">(PRIMEROS 20 RESULTADOS DE <span th:text="${exalumnosYSocios.get(0).remuneracion} "></span>)</label></label><label th:if="${exalumnosYSocios.size() != 0 and exalumnosYSocios.get(0).remuneracion > 20}" style="float: right;"><a th:href="@{/empresa/{id}/exalumnos-y-socios(id=${empresa.id})}" class="btn btn-success btn-xs" style="float: left;"><i class="fa fa-search"></i> Ver Todos</a></label>
                                    <table class="table table-bordered">
                                    <thead>
                                    <tr>
                                        <td>NOMBRE</td>
                                        <td>CARGO</td>
                                        <td>COMPROMISOS VIGENTES</td>
                                        <td>SUCURSAL/DEPARTAMENTO</td>
                                        <td>DESDE</td>
                                        <td>HASTA</td>
                                    </tr>
                                    </thead>
                                    <tr th:if="${exalumnosYSocios.size()!=0}" th:each="exalYSoc : ${exalumnosYSocios}">
                                        <td th:switch="${exalYSoc.usuario.nombres}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${exalYSoc.usuario.nombres+' '+exalYSoc.usuario.apellidoPaterno}"></span>
                                        </td>
                                        <td th:switch="${exalYSoc.cargo}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${exalYSoc.cargo}"></span>
                                        </td>
                                        <td th:switch="${exalYSoc.cantidadCompromisos}">
                                            <span th:case="null">0</span>
                                            <span th:case="*" th:text="${exalYSoc.cantidadCompromisos}"></span>
                                        </td>
                                        <td th:switch="${exalYSoc.sucursalEmpresa.sucSucursal}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${exalYSoc.sucursalEmpresa.sucSucursal}"></span>
                                            <span th:if="${exalYSoc.departamento != ' ' and exalYSoc.departamento!=null and exalYSoc.sucursalEmpresa.sucSucursal!=null}" th:text="${' / '+exalYSoc.departamento}"></span>
                                        </td>
                                        <td th:switch="${exalYSoc.fechaIngreso}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${#calendars.format(exalYSoc.fechaIngreso, 'dd/MM/yyyy')}"></span>
                                        </td>
                                        <td th:switch="${exalYSoc.fechaEgreso}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${#calendars.format(exalYSoc.fechaEgreso, 'dd/MM/yyyy')}"></span>
                                        </td>
                                    </tr>
                                    <tr th:if="${exalumnosYSocios.size()==0}">
                                        <td colspan="6" style="color:red" align="center">NO HAY INFORMACION AL RESPECTO</td>
                                    </tr>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div id="ofeLaboralesResumen">
                                <div class="hr-line-dashed"></div>
                                <div class="col-lg-12">
                                    <label class="control-label">OFERTAS LABORALES - RESUMEN:</label>
                                    <table class="table table-bordered">
                                        <thead>
                                        <tr>
                                            <td></td>
                                            <td>TOTAL</td>
                                            <td>ENE</td>
                                            <td>FEB</td>
                                            <td>MAR</td>
                                            <td>ABR</td>
                                            <td>MAY</td>
                                            <td>JUN</td>
                                            <td>JUL</td>
                                            <td>AGO</td>
                                            <td>SEP</td>
                                            <td>OCT</td>
                                            <td>NOV</td>
                                            <td>DIC</td>
                                        </tr>
                                        </thead>
                                    <tr th:if="${resumenOfertas.size()!=0}" th:each="resumenAnual : ${resumenOfertas}">
                                        <td th:each="resumenMensual : ${resumenAnual}">
                                            <span th:if="${resumenMensual == -1}">TOTAL</span>
                                            <span th:if="${resumenMensual != -1}" th:text="${resumenMensual}"></span>
                                        </td>
                                    </tr>
                                    <tr th:if="${resumenOfertas.size()==0}">
                                        <td colspan="14" style="color:red" align="center">NO HAY INFORMACION AL RESPECTO</td>
                                    </tr>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div id="ofeLaboralesDetalle">
                                <div class="hr-line-dashed"></div>
                                <div class="col-lg-12">
                                    <label class="control-label">OFERTAS LABORALES - DETALLE: <label th:if="${detalleOfertas.size() != 0 and detalleOfertas.get(0).estadoMailing > 20}" class="control-label">(PRIMEROS 20 RESULTADOS DE <span th:text="${detalleOfertas.get(0).estadoMailing} "></span>)</label></label><label th:if="${detalleOfertas.size() != 0 and detalleOfertas.get(0).estadoMailing > 20}" style="float: right;"><a th:href="@{/empresa/{id}/ofertas-laborales-detalle(id=${empresa.id})}" class="btn btn-success btn-xs" style="float: left;"><i class="fa fa-search"></i> Ver Todas</a></label>
                                    <table class="table table-bordered">
                                    <thead>
                                    <tr>
                                        <td>ID</td>
                                        <td>PUBLICADO</td>
                                        <td>CARGO</td>
                                        <td>VACANTES</td>
                                        <td>POSTULACIONES</td>
                                        <td>LUGAR</td>
                                        <td>CONTRATO</td>
                                        <td>SALARIO (TIPO DE MONEDA)</td>
                                    </tr>
                                    </thead>
                                    <tr th:if="${detalleOfertas.size()!=0}" th:each="detOfert : ${detalleOfertas}">
                                        <td th:switch="${detOfert.id}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${detOfert.id}"></span>
                                        </td>
                                        <td th:switch="${detOfert.fechaPublicacion}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${#calendars.format(detOfert.fechaPublicacion, 'dd/MM/yyyy')}"></span>
                                        </td>
                                        <td th:switch="${detOfert.cargo.nomCargo}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${detOfert.cargo.nomCargo}"></span>
                                        </td>
                                        <td th:switch="${detOfert.vacantes}">
                                            <span th:case="null">0</span>
                                            <span th:case="*" th:text="${detOfert.vacantes}"></span>
                                        </td>
                                        <td th:switch="${detOfert.cantPostulantes}">
                                            <span th:case="null">0</span>
                                            <span th:case="*" th:text="${detOfert.cantPostulantes}"></span>
                                        </td>
                                        <td th:switch="${detOfert.localidad}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${detOfert.localidad}"></span>
                                        </td>
                                        <td th:switch="${detOfert.duracionContrato}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${detOfert.duracionContrato}"></span>
                                        </td>
                                        <td th:switch="${detOfert.salario}">
                                            <span th:case="null">Sin Información</span>
                                            <span th:case="*" th:text="${detOfert.salario+' ('+detOfert.moneda.nombre+')'}"></span>
                                        </td>
                                    </tr>
                                    <tr th:if="${detalleOfertas.size()==0}">
                                        <td colspan="8" style="color:red" align="center">NO HAY INFORMACION AL RESPECTO</td>
                                    </tr>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div id="sucVigentes">
                                <div class="hr-line-dashed"></div>
                                <div class="col-lg-12">
                                    <label class="control-label">SUCURSALES VIGENTES:</label>
                                    <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <td>NOMBRE</td>
                                            <td>TELEFONO</td>
                                            <td>REGION</td>
                                            <td>DIRECCION</td>
                                            <td>OFERTAS</td>
                                            <td>CONTACTOS</td>
                                            <td>EXALUMNOS</td>
                                            <td>ACCIONES</td>
                                        </tr>
                                    </thead>
                                        <tr th:if="${sucursales.size()!=0}" th:each="suc,status : ${sucursales}">
                                            <td th:switch="${suc.sucSucursal}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:case="*" th:text="${suc.sucSucursal}"></span>
                                            </td>
                                            <td th:switch="${suc.sucFono}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:case="*" th:text="${suc.sucFono}"></span>
                                            </td>
                                            <td th:switch="${suc.comuna.provincia.region.nombre}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:case="*" th:text="${suc.comuna.provincia.region.nombre}"></span>
                                            </td>
                                            <td th:switch="${suc.sucDireccion}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:case="*" th:text="${suc.sucDireccion}"></span>
                                            </td>
                                            <td th:switch="${ofertasSucursales.get(status.index)}">
                                                <span th:case="null">0</span>
                                                <span th:case="*" th:text="${ofertasSucursales.get(status.index)}"></span>
                                            </td>
                                            <td th:switch="${contactosSucursales.get(status.index)}">
                                                <span th:case="null">0</span>
                                                <span th:case="*" th:text="${contactosSucursales.get(status.index)}"></span>
                                            </td>
                                            <td th:switch="${exalumnosSucursales.get(status.index)}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:case="*" th:text="${exalumnosSucursales.get(status.index)}"></span>
                                            </td>
                                            <td class="text-center">
                                                <form action="#" th:action="@{/empresa/{idEmpresa}/sucursal/{idSucursal}/eliminar(idEmpresa=${empresa.id},idSucursal=${suc.sucursalCodigo})}" method="post" >
                                                    <input type="hidden" name="idEmpresa" th:value="${empresa.id}" />
                                                    <input type="hidden" name="idSucursal" th:value="${suc.sucursalCodigo}" />
                                                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                                                    <a th:href="@{/empresa/{idEmpresa}/sucursal/{idSucursal}/modificar(idEmpresa=${empresa.id},idSucursal=${suc.sucursalCodigo})}" class="btn btn-primary btn-xs"><i class="fa fa-pencil-square-o"></i> Modificar</a>
                                                    <button class="btn btn-danger btn-xs" type="submit" onClick="return confirm('¿Seguro que desea eliminar la sucursal?')"><i class="fa fa-trash-o"></i> Eliminar</button>
                                                </form>
                                            </td>
                                        </tr>
                                        <tr th:if="${sucursales.size()!=0}">
                                            <td colspan="4"><span style="float: right;">TOTALES:</span></td>
                                            <td><span th:text="${nOfertas}"></span></td>
                                            <td><span th:text="${contactosSucursales.get(contactosSucursales.size()-1)}"></span></td>
                                            <td><span th:text="${exalumnosSucursales.get(contactosSucursales.size()-1)}"></span></td>
                                            <td><a th:href="@{/empresa/{id}/sucursal/registrar(id=${empresa.id})}" class="btn btn-success btn-xs center" style="float: left;"><i class="fa fa-plus"></i> Agregar Sucursal</a></td>
                                        </tr>
                                        <tr th:if="${sucursales.size()==0}">
                                            <td colspan="8" style="color:red" align="center">NO HAY INFORMACION AL RESPECTO</td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div id="compEmpresa">
                                <div class="hr-line-dashed"></div>
                                <div class="col-lg-12" th:if="${compromisos != null}">
                                    <label class="control-label">COMPROMISOS DE LA EMPRESA: </label>
                                    <label style="float: right;">
                                        <select id="tipoCompromiso" name="tipoCompromiso">
                                            <option value="0" >Ver Todas </option>
                                            <option value="1" >Donación </option>
                                            <option value="2" >Auspicio</option>
                                            <option value="3" >Venta de Servicios</option>
                                        </select>
                                    </label>
                                    <table class="table table-bordered">
                                        <thead>
                                        <tr>
                                            <td>TIPO COMPROMISO</td>
                                            <td>FECHA INICIO</td>
                                            <td>FECHA TERMINO</td>
                                            <td>OPERADOR</td>
                                            <td>MONTO DE COMPROMISO</td>
                                            <td>MONTO DEL APORTE TOTAL</td>
                                            <td>VIGENCIA</td>
                                            <td>REALIZADO?</td>
                                            <td>COMENTARIO</td>
                                            <td>ACCIÓN</td>
                                        </tr>
                                        </thead>
                                        <tr th:each="comp, compIndex : ${compromisos}">
                                            <td th:switch="${comp.TipoCompromiso}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:case="*" th:text="${comp.TipoCompromiso.nomCompromiso}"></span>
                                            </td>
                                            <td th:switch="${comp.fechaInicio}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:case="*" th:text="${#calendars.format(comp.fechaInicio, 'dd/MM/yyyy')}"></span>
                                            </td>
                                            <td th:switch="${comp.fechaTermino}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:if="${#calendars.format(comp.fechaTermino, 'dd/MM/yyyy')}=='01/01/0001'" >No Agendo</span>
                                                <span th:if="${#calendars.format(comp.fechaTermino, 'dd/MM/yyyy')}=='01/01/9999'">Indefinido</span>
                                                <span th:if="${#calendars.format(comp.fechaTermino, 'dd/MM/yyyy')}!='01/01/9999' AND
                                                             ${#calendars.format(comp.fechaTermino, 'dd/MM/yyyy')}!='01/01/0001'"
                                                      th:text="${#calendars.format(comp.fechaTermino, 'dd/MM/yyyy')}"></span>
                                            </td>
                                            <td th:switch="${comp.operadorACargo}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:case="*" th:text="${comp.operadorACargo.nombreCompleto}"></span>
                                            </td>
                                            <td th:switch="${comp.montoComprometido}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:case="*" th:text="${comp.montoComprometido}"></span>
                                                <br/> (Forma de Pago: <span th:text="${comp.tipoFormaPago.nomFormaPago}"></span>)
                                            </td>
                                            <td>
                                                <span th:if="${comp.cantidadAportes == -1}">Sin Información</span>
                                                <span th:if="${comp.cantidadAportes != -1}" th:text="${comp.cantidadAportes}"></span>
                                            </td>
                                            <td th:switch="${comp.TipoVigencia.nomVigencia}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:case="*" th:text="${comp.TipoVigencia.nomVigencia}"></span>
                                            </td>
                                            <td>
                                                <span th:if="${comp.cantidadAportes == null}">Pago No Realizado</span>
                                                <span th:if="${comp.cantidadAportes != null}">Pago Realizado</span>
                                            </td>
                                            <td th:switch="${comp.comentario}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:case="*" th:text="${comp.comentario}"></span>
                                            </td>
                                            <td><a th:href="@{/empresa/{idEmpresa}/modificar-compromiso/{idCompromiso}(idEmpresa=${empresa.id},idCompromiso=${comp.id})}" class="btn btn-primary btn-xs"><i class="fa fa-pencil-square-o"></i> Modificar</a>
                                                <p colspan="8" align="center"><a th:href="@{/empresas/{idEmpresa}/registrar-aporte/{idCompromiso}(idEmpresa=${empresa.id},idCompromiso=${comp.id})}" class="btn btn-success btn-xs center" ><i class="fa fa-plus"></i> Registrar Aporte</a></p>
                                            </td>
                                        </tr>
                                        <tr th:if="${compromisos.size()==0}">
                                            <td colspan="10" style="color:red" align="center">NO HAY INFORMACION AL RESPECTO</td>
                                        </tr>
                                    </table>
                                    <p colspan="8" align="center"><a th:href="@{/empresas/registrar-compromiso/{idEmpresa}(idEmpresa=${empresa.id})}" class="btn btn-success btn-xs center" ><i class="fa fa-plus"></i> Registrar Compromiso</a></p>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div id="apoEmpresa">
                                <div class="hr-line-dashed"></div>
                                <div class="col-lg-12">
                                    <label class="control-label">APORTES DE LA EMPRESA: </label>
                                    <label style="float: right;">
                                    </label>
                                    <table class="table table-bordered">
                                        <thead>
                                        <tr>
                                            <td>TIPO COMPROMISO</td>
                                            <td>FECHA DEL PAGO</td>
                                            <td>FECHA A FACTURAR PAGO</td>
                                            <td>MONTO DEL PAGO</td>
                                            <td>ESTADO DEL PAGO</td>
                                            <td>FORMA PAGO</td>
                                            <td>COMPROBANTE</td>
                                            <td>DESCRIPCIÓN</td>
                                            <td>ACCIÓN</td>
                                        </tr>
                                        </thead>
                                        <tr th:each="aporte : ${aportes}">
                                            <td th:switch="${aporte.compromisoEmpresa.TipoCompromiso}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:case="*" th:text="${aporte.compromisoEmpresa.TipoCompromiso.nomCompromiso}"></span>
                                            </td>
                                            <td th:switch="${aporte.fecha}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:case="*" th:text="${#calendars.format(aporte.fecha, 'dd/MM/yyyy')}"></span>
                                            </td>
                                            <td th:switch="${aporte.fechaPago}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:case="*" th:text="${#calendars.format(aporte.fechaPago, 'dd/MM/yyyy')}"></span>
                                            </td>
                                            <td th:switch="${aporte.montoPagado}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:case="*" th:text="${aporte.montoPagado}"></span>
                                            </td>
                                            <td th:switch="${aporte.tipoEstadoPago.nomEstadoPago}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:case="*" th:text="${aporte.tipoEstadoPago.nomEstadoPago}"></span>
                                            </td>
                                            <td th:switch="${aporte.tipoFormaPago.nomFormaPago}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:case="*" th:text="${aporte.tipoFormaPago.nomFormaPago}"></span>
                                            </td>
                                            <td th:switch="${aporte.tipoComprobante.nomComprobante}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:case="*" th:text="${aporte.tipoComprobante.nomComprobante}"></span>
                                            </td>
                                            <td th:switch="${aporte.descripcion}">
                                                <span th:case="null">Sin Información</span>
                                                <span th:case="*" th:text="${aporte.descripcion}"></span>
                                            </td>
                                            <td><a th:href="@{/empresa/{idEmpresa}/modificar-aporte/{idAporte}(idEmpresa=${empresa.id},idAporte=${aporte.id})}" class="btn btn-primary btn-xs"><i class="fa fa-pencil-square-o"></i> Modificar</a></td>
                                        </tr>
                                        <tr th:if="${aportes.size()==0}">
                                            <td colspan="9" style="color:red" align="center">NO HAY INFORMACION AL RESPECTO</td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>